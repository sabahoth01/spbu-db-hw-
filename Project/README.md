# Система управления миссиями и персоналом частной охранной организации

## 1. Описание предметной области

### Описание

Частная охранная организация имеет штаб **СОТРУДНИКОВ**, которые могут занимать различные **должности**. 
Каждый сотрудник имеет **МЕДКАРТУ** и закрепленную за ним **БАЗУ**, являющуюся его основным местом пребывания. 
Сотрудники могут быть направлены на **ЗАДАЧИ**. 
Задача является важной частью охранной **КАМПАНИИ** на **ТРАНСПОРТЕ**, принадлежащем охранной организации.

Для безопасности стоит хранить историю всех **ТЕХОСМОТРОВ**. 
Сотрудникам должны предоставляться комплекты **ЭКИПИРОВКИ**.
Экипировка в обязательном порядке должна включать один из ИРП и может содержать одно или несколько **ОРУЖИЙ**.

### Правила

**_СОТРУДНИКИ_** : работникИ, необходимо узнать ИМЯ, ФАМИЛИЮ, ДАТУ_РОЖДЕНИЯ, ОБРАЗОВАНИЕ и текущий СЕМЕЙНЫЙ_СТАТУС, а также хранить его ДАТУ_ЗАЧИСЛЕНИЯ на службу.

**_ДОЛЖНОСТИ_** : НАЗВАНИЕ_ДОЛЖНОСТИ, ЗАРПЛАТУ ВОИНСКОЕ_ЗВАНИЕ если есть, номер комплекта ЭКИПИРОВКИ, и тип ВООРУЖЕННЫХ_СИЛ (также работники могут занимать гражданские должности).

**_МЕДКАРТА_** : с информацией о РОСТЕ в см, ВЕСЕ в кг, ГРУППЕ_КРОВИ (по системе AB0), ПЕРЕНЕСЁННЫХ_ТРАВМАХ/ЗАБОЛЕВАНИЯХ, БИОЛОГИЧЕСКОМ_ПОЛЕ

**_БАЗА_** : с информацией о МЕСТОПОЛОЖЕНИИ базы и её СТАТУСЕ

**_МИССИИ_** : нужно хранить НАЗВАНИЕ, ДАТУ_И_ВРЕМЯ_СТАРТА и ЗАВЕРШЕНИЯ, ЮРИДИЧЕСКИЙ_СТАТУС, МЕСТО_ОТПРАВЛЕНИЯ и ПРИБЫТИЯ, ВРАГОВ, а также историю миссий сотрудников

**_ОРГАНИЗАЦИЯ_** : должно содержать НАЗВАНИЕ, ЗАКАЗЧИКА, ПРИБЫЛЬ, ЗАТРАТЫ и СТАТУС_ВЫПОЛЕНИЯ

_**ТРАНСПОРТ**_ : НАЗВАНИЕ, ТИП, СОСТОЯНИЕ 

**_ЭКИПИРОВКИ_** : может быть (но необязательно) КАМУФЛЯЖ, СРЕДСТВА_КОММУНИКАЦИИ, РАЗВЕДКИ, МЕДИКАМЕНТЫ и ПРОЧЕЕ.
В обязательном порядке должна включать один из ИРП (с описанием о БЕЛКАХ, ЖИРАХ, УГЛЕВОДАХ и КАЛОРИЙНОСТИ, блюдах ЗАВТРАКА, ОБЕДА, УЖИНА, ПИЩЕВЫХ_ДОБАВКАХ).

**_ОРУЖИЯ_** : с техническими характеристиками, будь то НАЗВАНИЕ, ТИП, КАЛИБР, СКОРОСТРЕЛЬНОСТЬ, ДЛИНА_СТВОЛА, ПРИЦЕЛЬНАЯ_ДАЛЬНОСТЬ

### Бизнес-процессы

Лица, не имеющие необходимых квалификаций, не могут быть отправлены на охранные задачи. 
Информационная система должна учитывать, какие сотрудники находятся на задачах (один и тот же сотрудник не может находиться на двух задачах одновременно).
Запрещается нанимать работников с неподходящими физическими данными в качестве охранников. 
Необходимо хранить историю инспекций транспорта, а транспорт со статусами «сломано» или «в ремонте» нельзя использовать в операциях. 
Если за базой не закреплён ни один сотрудник, стоит закрыть её. При прочих равных условиях старайтесь отправлять на охранные операции в первую очередь неженатых сотрудников, 
которые давно не участвовали в задачах и имеют большой опыт работы.

## 2. Модели

- Инфо логическая модель
- Дата логическая модель

## 3. Улучшение структуры БД

### Нормальная форма (Database normalization)
Под. Описание [wikipedia](ru.wikipedia.org/wiki/Нормальная_форма)

Нормализация позволяет оптимально распределять атрибуты по таблицам. Данная методика избавляет от:
- атрибутов с несколькими значениями;
- повторяющихся атрибутов;
- атрибутов, не поддающихся классификации;
- атрибутов с избыточной информацией;
- атрибутов, созданных из других признаков.

После этого, давайте подумаем о том, какие запросы будут наиболее часто используемыми (востребованными) для этой базы данных. В моем случае, я думаю, что нам обычно потребуется:
- Извлекать данные о сотрудниках, обновлять их и получать информацию о здоровье сотрудников,
- знать о различных миссиях, доходах и клиентах,
- а также о состоянии нашего транспорта.
Основываясь на этом, давайте используем некоторые полезные методы для повышения производительности этой базы данных:

### Временные структуры и представления, способы валидации запросов 
- Представления (Views)
- Материализованные представления (Materialized Views)
- Индексы (Indexes)
- Общие табличные выражения (CTE)
- Временные таблицы (Temporary Tables)

### Триггеры и транзакции

